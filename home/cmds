## Ruby
def ri(*args); system("ri", *args); end # Ruby: To make ri available in irb: ~/.irbrc

## Nix
nix flake update # Nixos: Update nixpkgs cache
sudo nix-env --list-generations --profile /nix/var/nix/profiles/system # Nixos: List system generations
sudo nix-env --delete-generations {1..5} --profile /nix/var/nix/profiles/system # Nixos: Delete old specific (1-4) system generations -> nix-collect-garbage
sudo nix-collect-garbage # Nixos: Delete only not refferenced packages
sudo nix-collect-garbage -d # Nixos: Delete all old system generations and unused packages
sudo nixos-rebuild boot # Nixos: Rebuild boot configuration

nix why-depends /run/current-system "nixpkgs#electron_36" # find which package depends on electron_36
nix eval "nixpkgs#electron.version" # find latest version

## Webserver
nix shell "nixpkgs#python3" --command python -m http.server 8080 # Python: Simple webserver
nix shell "nixpkgs#busybox" --command httpd -f -p 8080 # Busybox: CGI if -h -c, config in /etc/httpd.conf

podman run --rm -e PUID=1000 -e PGID=1000 -e TZ=Europe/Berlin -e PASSWORD_ACCESS=true -e USER_NAME=user -e USER_PASSWORD=trash -p 2222:2222 ghcr.io/linuxserver/openssh-server ## SSH Server

## git
nix shell nixpkgs#git-filter-repo # Install git-filter-repo
git-filter-repo --path .devenv --invert-paths --force # Remove .devenv from git history
## Afterwards git remote add origin <new-repo-url> and git push -u origin main --force
git rm -r --cached .devenv/ # Remove .devenv from git index

gh repo create your-repo-name --public --source=. --remote=origin # Create new public GitHub repo
gh repo create your-repo-name --private --source=. --remote=origin # Create new private GitHub repo

nvim $HOME/nixos-config/home/cmds # Edit this file - update cmds

wl-screenrec -g "$(slurp)" -f ~/Videos/screen.mp4 --audio --low-power=off # record region video
wl-screenrec -f -o eDP-1 ~/Videos/screen.mp4 --audio --low-power=off # record full screen video
